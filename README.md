# Poor man's concurrency

## Play with Concurrency Monad

```
$ git clone https://github.com/Matts966/poor-mans-concurrency.git
$ cd poor-mans-concurrency && make
```

Note that this program prints `fish` and `cat` concurrently and infinitely. You should be ready to push Ctrl-c.

### Output
```
$ make
docker build -t pmchs . && docker run --rm pmchs
Sending build context to Docker daemon  123.4kB
Step 1/8 : FROM alpine:3.7
 ---> 6d1ef012b567
Step 2/8 : RUN apk update   && apk add --no-cache ghc su-exec dumb-init
 ---> Using cache
 ---> 16510df3ce85
Step 3/8 : RUN addgroup pmchs   && adduser -S -G pmchs pmchs
 ---> Using cache
 ---> e8ae094e5ba7
Step 4/8 : RUN mkdir -p /pmchs   && chown -R pmchs:pmchs /pmchs
 ---> Using cache
 ---> 5d86eefad966
Step 5/8 : COPY main.hs /pmchs
 ---> Using cache
 ---> 60c4f27ee608
Step 6/8 : COPY docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh
 ---> Using cache
 ---> 297565bf78ab
Step 7/8 : RUN chmod +x /usr/local/bin/docker-entrypoint.sh
 ---> Using cache
 ---> 29c0e286a927
Step 8/8 : ENTRYPOINT [ "docker-entrypoint.sh" ]
 ---> Using cache
 ---> 63ed9df45cb1
Successfully built 63ed9df45cb1
Successfully tagged pmchs:latest
"start!fciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfai^Ctschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciasthcfaitschafticsahtfciastmake: *** [run] Error 130
```

## Reference

This program is intended to make the haskell code in the paper (links but they are the same) below easy to run.

- https://www.cambridge.org/core/journals/journal-of-functional-programming/article/poor-mans-concurrency-monad/A369E310ADAE4455020C918FC1D47958
- https://dl.acm.org/citation.cfm?id=968596
- http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.39.8039&rep=rep1&type=pdf
